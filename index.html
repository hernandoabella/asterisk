<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Asterisk Patterns</title>
  <link rel="icon" href="/images/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="./styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/monokai.min.css" />
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/all.css" />
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/sharp-solid.css" />
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/sharp-regular.css" />
  <link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.4.0/css/sharp-light.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/languages/python.min.js"></script>
  <!-- Agrega más enlaces para otros lenguajes que puedas necesitar -->
  <script src="./script.js"></script>
</head>

<body>
  <!-- header -->
  <header>
    <h1><img class="logo" src="./images/logo-light.png" alt="logo" /></h1>
    <div class="iconos">
      <i class="fas fa-moon" onclick="darkMode()"></i>
      <a rel="noopener" title="Github" href="https://www.github.com/hernandoabella/astik" target="_blank"><i
          class="fab fa-github"></i></a>
    </div>
  </header>
  <!-- header -->

  <!-- container -->
  <div class="container">
    <!-- Agrega el siguiente código para el menú de selección de lenguaje con divs -->
    <div id="language-selector" class="language-selector">
      <div class="language-option" onclick="changeLanguage('javascript')">JavaScript</div>
      <div class="language-option" onclick="changeLanguage('python')">Python</div>
      <!-- Agrega más opciones según tus necesidades -->
    </div>

    <!-- Agrega el siguiente código para el contenedor de los patrones de asteriscos -->
    <div id="patterns-container" class="patterns-container">
      <!-- Aquí se mostrarán los patrones de asteriscos dinámicamente -->
    </div>

    <!-- Agrega el siguiente código para las tarjetas de código -->
    <div class="card">
      <h2>Pattern one</h2>
      <pre class="codeSnippet">
*
***
*****
*******
*********</pre>
      <div class="card-btns">
        <button class="copyButton">
          <i class="fas fa-copy"></i> Copy code
        </button>

        <button class="showCodeButton">
          <i class="fas fa-code"></i> Show code
        </button>
      </div>
      <div class="codigo">
        <pre>
            <code>
code1          
            </code>
          </pre>
      </div>
    </div>
    <!-- Agrega más tarjetas según tus necesidades -->

  </div>
  <!-- container -->

  <!-- footer -->
  <footer>
    <p>
      Made with ❤️ by
      <a href="https://github.com/hernandoabella">Hernando Abella</a>
    </p>
  </footer>
  <!-- footer -->
  <button onclick="topFunction()" id="myBtn" title="Ir arriba">
    <i class="fa-solid fa-arrow-up"></i>
  </button>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
  hljs.highlightAll();
  var darkMode = localStorage.getItem("darkMode");

  if (darkMode === "enabled") {
    document.body.classList.add("dark-mode");
    cambiarLogo("logo-dark.png");
  }
});

function darkMode() {
  var element = document.body;
  element.classList.toggle("dark-mode");

  if (element.classList.contains("dark-mode")) {
    localStorage.setItem("darkMode", "enabled");
    cambiarLogo("logo-dark.png");
  } else {
    localStorage.setItem("darkMode", "disabled");
    cambiarLogo("logo-light.png");
  }
}

function cambiarLogo(nombreLogo) {
  var logo = document.querySelector("header img");
  logo.src = "./images/" + nombreLogo;
}

var showCodeButtons = document.querySelectorAll(".showCodeButton");

showCodeButtons.forEach(function (button) {
  button.addEventListener("click", function () {
    var codigoContainer = button.parentNode.nextElementSibling;
    if (codigoContainer.style.display === "block") {
      codigoContainer.style.display = "none";
      button.innerHTML = '<i class="fas fa-code"></i> Mostrar código';
    } else {
      codigoContainer.style.display = "block";
      button.innerHTML = '<i class="fas fa-code"></i> Ocultar código';
    }
  });
});

// Get the button
let mybutton = document.getElementById("myBtn");

// When the user scrolls down 20px from the top of the document, show the button
window.onscroll = function () {
  scrollFunction();
};

function scrollFunction() {
  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
    mybutton.style.display = "block";
  } else {
    mybutton.style.display = "none";
  }
}

// When the user clicks on the button, scroll to the top of the document
function topFunction() {
  document.body.scrollTop = 0;
  document.documentElement.scrollTop = 0;
}

// Obtener todos los codeSnippets
var codeSnippets = document.querySelectorAll(".codeSnippet");

// Agregar evento de clic a cada codeSnippet
codeSnippets.forEach(function (snippet) {
  snippet.addEventListener("click", function () {
    // Obtener el código del codeSnippet actual
    var code = this.innerHTML;

    // Crear un elemento de textarea temporal
    var tempTextarea = document.createElement("textarea");
    tempTextarea.value = code;
    document.body.appendChild(tempTextarea);

    // Seleccionar el contenido del textarea temporal
    tempTextarea.select();
    tempTextarea.setSelectionRange(0, 99999); // Para dispositivos móviles

    // Copiar el contenido del textarea al portapapeles
    document.execCommand("copy");

    // Eliminar el textarea temporal
    document.body.removeChild(tempTextarea);

    alert("Pattern copied!");
  });
});

// Obtener todos los elementos con la clase 'copyButton'
const copyButtons = document.querySelectorAll(".copyButton");

// Iterar sobre cada botón de copiar
copyButtons.forEach((button) => {
  // Agregar un evento 'click' a cada botón
  button.addEventListener("click", () => {
    // Obtener el elemento de código asociado al botón actual
    const codeElement =
      button.parentNode.nextElementSibling.querySelector("code");

    // Crear un área de texto temporal
    const tempTextarea = document.createElement("textarea");
    tempTextarea.value = codeElement.textContent;
    document.body.appendChild(tempTextarea);

    // Seleccionar y copiar el contenido del área de texto
    tempTextarea.select();
    document.execCommand("copy");

    // Eliminar el área de texto temporal
    document.body.removeChild(tempTextarea);

    // Cambiar el texto del botón al copiarse
    button.innerHTML = '<i class="fas fa-check"></i> Copied';

    // Restaurar el texto del botón después de 2 segundos
    setTimeout(() => {
      button.innerHTML = '<i class="fas fa-copy"></i> Copy code';
    }, 2000);
  });

  

});

// Muestra u oculta el cuadro de diálogo al hacer clic en el icono
document.getElementById("language-selector").addEventListener("click", function () {
  var dialog = document.getElementById("languageDialog");
  dialog.style.display = dialog.style.display === "block" ? "none" : "block";
});

// Redirige a la ruta seleccionada en el cuadro de diálogo
function navigateToLanguage(selectedValue) {
  if (selectedValue) {
    window.location.href = selectedValue;
  }
}

function changeLanguage(language) {
      var codeSnippets = document.querySelectorAll(".codeSnippet");

      codeSnippets.forEach(function (snippet) {
        // Dependiendo del lenguaje seleccionado, puedes cambiar el contenido del codeSnippet
        switch (language) {
          case "javascript":
            snippet.innerHTML = '/* Código de JavaScript aquí */';
            break;
          case "python":
            snippet.innerHTML = '# Código de Python aquí';
            break;
          // Agrega más casos según tus necesidades
          default:
            break;
        }
      });

      hljs.highlightAll();
    }
  </script>

</body>

</html>
